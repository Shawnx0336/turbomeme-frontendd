<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolRoulette LIVE</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Sticky Header -->
    <header class="header">
        <div id="timer">‚è≥ Next Spin: 25s</div>
        <div id="balance">‚óé500.00</div>
        <button id="menu-toggle" onclick="toggleLivePanel()">‚ò∞</button>
    </header>

    <!-- Demo Mode Banner -->
    <div class="demo-mode">‚ö†Ô∏è Demo Mode ‚Äì Demo SOL Only</div>
    
    <!-- Notification Bar -->
    <div class="notification-bar" id="notificationBar" style="display: none;"></div>

    <main>
        <h1>SolRoulette LIVE</h1>
        <p>1,247 Online</p>
        <h2>Place your bets...</h2>

        <!-- Live Panel (Collapsible) -->
        <div class="live-panel" id="live-panel">
            <button id="panel-close" class="panel-close" onclick="toggleLivePanel()">√ó</button>
            <div class="tabs">
                <button onclick="showTab('bets')" class="tab-btn active" data-tab="bets">Live Bets</button>
                <button onclick="showTab('chat')" class="tab-btn" data-tab="chat">Live Chat</button>
                <button onclick="showTab('leaderboard')" class="tab-btn" data-tab="leaderboard">Leaderboard</button>
            </div>
            <div id="bets-tab" class="tab-content active">
                <div class="bet-entry"><i class="fas fa-dice"></i> <span class="system">System:</span> Welcome!</div>
            </div>
            <div id="chat-tab" class="tab-content" style="display: none;">
                <div id="chat-messages">
                    <div>System: Welcome to SolRoulette LIVE!</div>
                    <div>System: Spin to win big! üî•</div>
                </div>
                <input type="text" id="chat-input" placeholder="Send a message...">
                <button onclick="sendChatMessage()">Send</button>
            </div>
            <div id="leaderboard-tab" class="tab-content" style="display: none;">
                <div class="leaderboard-section">
                    <h3>Top Wager</h3>
                    <div id="wager-leaderboard"></div>
                </div>
                <div class="leaderboard-section">
                    <h3>Streak</h3>
                    <div id="streak-leaderboard"></div>
                </div>
                <div class="leaderboard-section">
                    <h3>10x Wins</h3>
                    <div id="ten-x-leaderboard"></div>
                </div>
            </div>
        </div>

        <!-- Recent Spins -->
        <div class="recent-spins">
            <h3>Recent:</h3>
            <div id="recent-spins"></div>
        </div>

        <!-- Betting Interface -->
        <div class="betting-interface bet-controls">
            <h3>Select Multiplier</h3>
            <select id="multiplier">
                <option value="1.5">1.5x (30%)</option>
                <option value="2">2x (20%)</option>
                <option value="3">3x (20%)</option>
                <option value="5" disabled>5x (15%)</option>
                <option value="10" disabled>10x (15%)</option>
            </select>
            <div>
                <label>Bet Amount:</label>
                <input type="number" id="bet-amount" value="0.50" step="0.10" min="0.10"> SOL
            </div>
            <p>Max Win Per Round: ‚óé50</p>
            <button onclick="showModal('connect-wallet-modal')" class="connect-wallet">Connect Wallet</button>
            <button onclick="placeBet()" class="bet-button">üîí Place Bet</button>
            <div id="spin-tokens">Earned: <span id="spin-balance">0.000</span> $SPIN <button onclick="claimTokens()">Claim</button></div>
        </div>
    </main>

    <!-- Modals -->
    <div class="modal" id="connect-wallet-modal" data-close-on-overlay="false">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('connect-wallet-modal')">√ó</span>
            <h2>Connect Your Wallet</h2>
            <p>Choose a wallet to connect and start betting.</p>
            <button onclick="connectPhantom()">Connect Phantom</button>
            <button onclick="closeModal('connect-wallet-modal')">Just Watching? Close</button>
        </div>
    </div>
    
    <div class="modal" id="profile-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('profile-modal')">√ó</span>
            <h2>Your Profile</h2>
            <p>üòé Guest (Level 1)</p>
            <p>Wallet: Not Connected</p>
            <p>Balance: 0.00 SOL</p>
            <p>Total Wagered: 0.00 SOL</p>
            <p>Win Streak: 0</p>
            <p>10x Wins: 0</p>
            <p>Demo Winnings: 0.00 SOL</p>
            <p>Achievements: None</p>
            <p>Referral Code: <span id="referral-code"></span></p>
            <button onclick="copyReferralLink()">Copy Referral Link</button>
            <button onclick="resetGuestProgress()">Reset Guest Progress</button>
            <button onclick="showModal('pro-mode-modal')">Activate PRO MODE üöÄ</button>
        </div>
    </div>
    
    <div class="modal" id="shop-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('shop-modal')">√ó</span>
            <h2>$SPIN Shop</h2>
            <p>Your $SPIN Balance: <span id="spin-balance-modal">0.000</span></p>
            <div>
                <p>üöÄ Rocket Avatar - 10 $SPIN</p>
                <button onclick="purchaseShopItem('rocket_avatar')">Buy</button>
            </div>
            <div>
                <p>üî• Fire Chat Emote - 5 $SPIN</p>
                <button onclick="purchaseShopItem('fire_emote')">Buy</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="daily-bonus-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('daily-bonus-modal')">√ó</span>
            <h2>Daily Login Bonus!</h2>
            <p>Claim your bonus for Day 1!</p>
            <p>Reward: 0.01 $SPIN</p>
            <button onclick="claimDailyBonus()">Claim Bonus</button>
        </div>
    </div>
    
    <div class="modal" id="daily-reward-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('daily-reward-modal')">√ó</span>
            <h2>Daily Reward!</h2>
            <p>Thanks for playing! Claim your bonus $SPIN.</p>
            <p>+0.05 $SPIN</p>
            <button onclick="claimDailyReward()">Claim</button>
        </div>
    </div>
    
    <div class="modal" id="big-win-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('big-win-modal')">√ó</span>
            <h2>Big Win!</h2>
            <p>Share your victory on X!</p>
            <button onclick="copyWinLink()">Copy Link</button>
            <button onclick="tweetWin()">Tweet Now</button>
        </div>
    </div>
    
    <div class="modal" id="retry-loss-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('retry-loss-modal')">√ó</span>
            <h2>Want to win back your loss?</h2>
            <p>Bet the same amount again on the same multiplier.</p>
            <button onclick="retryBet()">Try Again</button>
            <button onclick="closeModal('retry-loss-modal')">Cancel</button>
        </div>
    </div>
    
    <div class="modal" id="low-balance-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('low-balance-modal')">√ó</span>
            <h2>Out of SOL?</h2>
            <p>Your demo SOL balance is low.</p>
            <button onclick="refillDemoSol()">Refill ‚óé500 Demo SOL!</button>
        </div>
    </div>
    
    <div class="modal" id="still-here-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('still-here-modal')">√ó</span>
            <h2>Still here?</h2>
            <p>Try a spin and feel the rush üî•</p>
            <button onclick="closeModal('still-here-modal')">OK</button>
        </div>
    </div>
    
    <div class="modal" id="welcome-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('welcome-modal')">√ó</span>
            <h2>üéâ Welcome to SolRoulette LIVE!</h2>
            <p>Here's ‚óé500 in Demo SOL to try your luck. Connect your wallet any time to win real rewards.</p>
            <button onclick="closeModal('welcome-modal')">Start Playing</button>
            <button onclick="showModal('connect-wallet-modal')">Connect Wallet</button>
        </div>
    </div>
    
    <div class="modal" id="unlock-multipliers-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('unlock-multipliers-modal')">√ó</span>
            <h2>Unlock High Risk Multipliers</h2>
            <p>Pay ‚óé0.5 to unlock 5x and 10x multipliers for this session.</p>
            <button onclick="unlockMultipliers()">Unlock Now</button>
            <button onclick="closeModal('unlock-multipliers-modal')">Cancel</button>
        </div>
    </div>
    
    <div class="modal" id="pro-mode-modal" data-close-on-overlay="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('pro-mode-modal')">√ó</span>
            <h2>Activate PRO MODE üöÄ</h2>
            <p>Unlock exclusive avatars and boosts for ‚óé1/month.</p>
            <button onclick="activateProMode()">Activate</button>
            <button onclick="closeModal('pro-mode-modal')">Cancel</button>
        </div>
    </div>

    <div id="toast-container"></div>

    <script src="main.js"></script>
</body>
</html>